bc-tabs(tab="tabs.selectedTab" tab-options="tabs.options" on-select="tabs.select($tab)" badge="pendingTrades().length")
  .sfox-logo
    span.mrs.type-sm Powered By
    a(href="https://www.coinify.com/" target="_blank" rel="noopener noreferrer")
      img(src="img/coinify-logo.svg")
.buy-sell.mbvl.mh-15
  .flex-row.flex-column-tablet.flex-column-mobile(ng-show="tabs.selectedTab === 'BUY_BITCOIN'")
    //- BUY
    .width-50.border-desktop.pv-30.ph-30.no-padding-mobile
      exchange-checkout(
        type="'Buy'"
        fiat="buyFiat"
        conversion="100"
        trading="buying"
        limits="buyLimits"
        provider="'Coinify'"
        fiat-options="buyFiatOptions"
        fiat-change="buyFiatHandler(currency)"
        frequencies="['Daily', 'Weekly', 'Monthly']"
        on-success="buyHandler(quote, null, frequency)"
        handle-quote="buyQuoteHandler(amount, baseCurr, quoteCurr)")
    .flex-column.col-md-5.col-md-offset-1.col-sm-12.col-xs-12.pln.prn
      kyc-status(ng-if="pendingKYC()" kyc="pendingKYC()" on-trigger="openKYC()" currency="buyFiat.code")
  .flex-row.flex-column-tablet.flex-column-mobile(ng-show="tabs.selectedTab === 'SELL_BITCOIN'")
    //- SELL
    .width-50.border-desktop.pv-30.ph-30.no-padding-mobile
      exchange-checkout(
        type="'Sell'"
        fiat="sellFiat"
        conversion="100"
        trading="selling"
        limits="sellLimits"
        provider="'Coinify'"
        fiat-options="sellFiatOptions"
        on-success="sellHandler(quote)"
        fiat-change="sellFiatHandler(currency)"
        handle-quote="sellQuoteHandler(amount, baseCurr, quoteCurr)")
    .flex-column.col-md-5.col-md-offset-1.col-sm-12.col-xs-12.pln.prn
      kyc-status(ng-if="pendingKYC()" kyc="pendingKYC()" on-trigger="openKYC()")
  .flex-column(ng-show="tabs.selectedTab === 'ORDER_HISTORY'")
    div(ng-show="pendingTrades().length")
      .flex-row.flex-between.flex-center.mtl
        h4.type-h5 Pending Orders ({{pendingTrades().length}})
        span.hidden-xs Coinify Account: {{ exchange.profile.email }}
      .width-100
        .exchange-trade.border.bg-footer-blue
          .pvs
            span.em-500.pl-25.ph-10-mobile(translate="STATUS")
          .pvs
            span.em-500(translate="DATE")
          .pvs
            span.em-500(translate="BTC")
          .pvs
            span.em-500(translate="TOTAL")
      table.width-100
        tr(
          ng-repeat="trade in pendingTrades() | orderBy:'createdAt':true"
          user-action-required="trade.state === 'awaiting_transfer_in'"
          disabled="status.disabled"
          sell="sellHandler"
          conversion="100"
          buy="buyHandler"
          trade="trade")
    
    div(ng-show="recurringTrades().length")
      .flex-row.flex-between.flex-center.mtl
        h4.type-h5 Recurring Orders
        div(ng-hide="pendingTrades().length")
          span.hidden-xs(ng-show="exchange.profile.email") Coinify Account: {{ exchange.profile.email }}
      .width-100
        .exchange-trade.border.bg-footer-blue
          .pvs
            span.em-500.pl-25.ph-10-mobile(translate="STATUS")
          .pvs
            span.em-500(translate="DATE")
          .pvs
            span.em-500(translate="BTC")
          .pvs
            span.em-500(translate="TOTAL")
        exchange-recurring-trades(ng-repeat="subscription in subscriptions" subscription="subscription" trades="recurringTrades")

    div(ng-show="completedTrades().length")
      .flex-row.flex-between.flex-center.mtl
        h4.type-h5 Completed Orders
        div(ng-hide="pendingTrades().length || recurringTrades().length && subscriptions")
          span.hidden-xs(ng-show="exchange.profile.email") Coinify Account: {{ exchange.profile.email }}
      .width-100
        .exchange-trade.border.bg-footer-blue
          .pvs
            span.em-500.pl-25.ph-10-mobile(translate="STATUS")
          .pvs
            span.em-500(translate="DATE")
          .pvs
            span.em-500(translate="BTC")
          .pvs
            span.em-500(translate="TOTAL")
      table.width-100.mb-30(gradual-render)
        tr.border(ng-hide="completedTrades().length")
          td.pvml.plml.italic.type-lbl.hidden-xs(colspan="4") You haven't completed any trades yet.
          td.pvml.plml.italic.type-lbl.visible-xs(colspan="5") You haven't completed any trades yet.
        tr(
          ng-repeat="trade in completedTrades() | orderBy:'createdAt':true | limitTo:$render.limit"
          disabled="status.disabled"
          sell="sellHandler"
          conversion="100"
          buy="buyHandler"
          trade="trade"
          in-view="$last && !$root.size.xs && $render.next()")
        tr.border.center(ng-show="$root.size.xs && completedTrades().length > $render.limit")
          td.pvl.italic.type-lbl.primary(colspan="5" ng-click="$render.next()" translate="SHOW_MORE")

contact-support-footer(ng-hide="inMobileBuy")
